/**
 *
 * ===
 *
 */

////////////////////////////////////////////////////////////////////////////////
// Imports
////////////////////////////////////////////////////////////////////////////////
import Game from '../models/game';
import GameFactory from '../game/game-factory';

////////////////////////////////////////////////////////////////////////////////
// Definitions
////////////////////////////////////////////////////////////////////////////////
let getGames = (req, res) => {
  Game.find({}, function(err, games){
    if(err) res.send(err);
    res.json(games);
  });
};

let getGame = (req, res) => {
  console.log(req.params);
  let { id } = req.params;
  Game.findOne({
    _id: id
    }, function(err, game) {
    if (err) res.send(err);
    res.json(game);
  });
};

let postGame = (req, res) => {
  let factory = new GameFactory();
  let game = new Game();
  game.save(function(err){
    if(err) res.send(err);
    res.json(game);
  });
};

let putGame = (req, res) => {

};
////////////////////////////////////////////////////////////////////////////////
// Exports
////////////////////////////////////////////////////////////////////////////////
export { getGames, getGame, postGame };